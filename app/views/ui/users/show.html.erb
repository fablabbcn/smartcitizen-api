<% content_for :profile_header_image do %>
  <%= render partial: "ui/users/profile_image", locals: { user: @user }  %>
<% end %>
<% content_for :profile_header_meta do %>
  <%= render partial: "ui/users/meta",  locals: { user: @user } %>
<% end %>
<% content_for :profile_header_actions do %>
  <%= render partial: "ui/users/actions", locals: { user: @user } %>
<% end %>
<%= render partial: "ui/shared/profile_header", locals: { title: t(:show_user_headline, username: @user.username) } %>

<div class="container g-0 px-2">
  <div class="row g-0">
    <div class="col-12 col-lg-10 offset-lg-2">
      <%= render layout: "ui/shared/box", locals: { no_padding: true } do %>
        <div class="p-3">
          <% if current_user == @user && @user.devices.length < 1 %>
            <%= render partial: "no_device_cta" %>
          <% else %>
            <h2><%= t :show_user_devices_heading %></h2>
            <% if @user.devices.length < 1 %>
              <p><%= t :show_user_no_devices_message, username: @user.username %></p>
            <% end %>
          <% end %>
        </div>
        <%= render partial: "ui/devices/device", collection: @user.devices.for_user(current_user) %>
      <% end %>
    </div>
  </div>
</div>
